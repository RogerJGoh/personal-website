<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/animation.gsap.js"></script>

  </head>
  <body>
    <div id="svgTrigger" style="top:0"></div>
    <div class="regular-wrapper container">
      <div class="mainTitle">
        <div>Roger Goh</div>
        <div>
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="350" height="200">
          <path id="word" style="stroke-linecap: round; stroke-linejoin: round;"
            fill="none" stroke="#000000" stroke-width="5" 
            d="M22.328,70.018c9.867-7.4,10.724,20.434,13.014,28.694c-0.08-9.105-1.308-31.463,11.936-31.886
              c11.313-0.361,17.046,19.368,16.367,28.098c-1.432-10.289,6.234-30.682,18.163-25.671c11.505,4.833,8.682,26.772,20.071,31.964
              c13.06,5.953,14.854-8.305,19.734-17.017c7.188-12.836,4.933-15.417,29.6-14.8c-8.954-3.842-37.42,1.728-28.539,20.1
              c5.823,12.045,34.911,12.583,30.018-8.873c-5.385,17.174,24.01,23.104,24.01,9.123c0-9.867,3.816-15.937,16.034-18.5
              c8.359-1.754,18.982,4.754,25.9,9.25c-10.361-4.461-51.941-13.776-37.749,12.357c9.435,17.372,50.559,2.289,33.477-6.063
              c-2.871,19.008,32.415,31.684,30.695,54.439c-2.602,34.423-66.934,24.873-79.302,2.134c-13.11-24.101,38.981-36.781,54.798-40.941
              c8.308-2.185,42.133-12.162,25.88-25.587c-2.779,17.058,19.275,28.688,29.963,12.911c6.862-10.131,6.783-25.284,30.833-19.117
              c-9.404-0.429-32.624-0.188-32.864,18.472c-0.231,17.912,21.001,21.405,40.882,11.951"/>
          <path id="dot" style="stroke-linecap: round; stroke-linejoin: round;"
            fill="none" stroke="#000000" stroke-width="5" 
            d="M247.003,38.567c-7.423,1.437-11.092,9.883-1.737,11.142c14.692,1.978,13.864-13.66,1.12-8.675"/>
          </svg>
        </div>
      </div>
    </div>
    <div class="regular-wrapper container">
      <div class="row" style="background-color: rgb(255, 187, 0);">
        <div id="trigger0"></div>
        <div id="staticLength0" class="col-sm-6 block-left">
            <div id="pin0" class="block-left-inner">What I've Done</div>
        </div>
        <div id="scrollLength0" class="col-sm-6 block-right">
          <div class="row">
            <div class="col-sm-12">
              <h3><b>University of Western Australia</b></h3>
              <h5 class="subHeader">Bachelor of Science, Double Major: Computer Science, Data Science</h5>
              <h5>May 2019 - May 2019 Perth, WA</h5>
              <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorum, dignissimos? Accusamus corporis, quaerat voluptate mollitia cum tenetur modi dolore ea libero ipsa nesciunt reprehenderit pariatur deleniti illum facere ratione sapiente!</p>
              <p>Omnis iure, debitis, ea fuga quis dolores exercitationem facere est esse cupiditate id ipsa at repellat, distinctio provident eius nesciunt consequuntur accusantium officiis? Recusandae autem officia itaque ab, eaque commodi?</p>
              <p>Itaque, obcaecati error qui laboriosam nam, molestias ducimus nostrum fugiat nemo blanditiis, cum quibusdam? Omnis ipsa voluptatibus temporibus vitae? Officiis, quas. Quidem voluptatum, nisi ullam adipisci consequatur ab alias praesentium!</p>
              <p>Consequatur accusantium aspernatur labore? Ex nisi facilis, adipisci omnis, sed totam tempora expedita iusto, temporibus vero iure consequatur ut asperiores! Ex perferendis ea vel aperiam, optio nisi consectetur magni culpa.</p>
              <p>Quasi et sequi nobis voluptatibus architecto perspiciatis, obcaecati non sapiente adipisci explicabo, dolore odio voluptate alias. Animi nisi voluptates maxime blanditiis? Commodi, perspiciatis quisquam! Odit in distinctio illum magnam aliquid!</p>
              <p>Dolor saepe distinctio libero possimus ab expedita iusto ut debitis repellat, a architecto quia ipsa, unde rem corporis ad sunt eum error? Omnis nesciunt mollitia quae placeat molestias error quasi.</p>
              <p>Tempora quod id nihil unde doloribus quaerat atque facere ab, itaque nostrum reiciendis, sint aperiam. Facilis possimus, perspiciatis fugit, ducimus iure eos nemo nulla recusandae quibusdam esse officia explicabo ipsum.</p>
              <p>Dolorum facilis alias perspiciatis velit nisi. Hic est dignissimos ullam praesentium quis? Possimus illo dolorum rerum, libero assumenda architecto quia! Delectus nisi dolor officia et veritatis! Consectetur voluptatibus impedit dolor.</p>
              <p>Atque laboriosam blanditiis impedit incidunt quas, nesciunt quibusdam magnam iusto esse quam cupiditate asperiores! Quidem, ab! Eum est velit harum nesciunt magni, nobis molestiae voluptatibus et ipsum beatae quia ex.</p>
              <p>Esse saepe iste incidunt voluptatem voluptatibus enim iure in excepturi perferendis facere aperiam quo eligendi officiis quod sit, culpa ex eveniet. Repellendus ipsa nobis excepturi error dolorum nulla doloribus doloremque!</p>
              <p>Dolorum facilis alias perspiciatis velit nisi. Hic est dignissimos ullam praesentium quis? Possimus illo dolorum rerum, libero assumenda architecto quia! Delectus nisi dolor officia et veritatis! Consectetur voluptatibus impedit dolor.</p>
              <p>Atque laboriosam blanditiis impedit incidunt quas, nesciunt quibusdam magnam iusto esse quam cupiditate asperiores! Quidem, ab! Eum est velit harum nesciunt magni, nobis molestiae voluptatibus et ipsum beatae quia ex.</p>
              <p>Esse saepe iste incidunt voluptatem voluptatibus enim iure in excepturi perferendis facere aperiam quo eligendi officiis quod sit, culpa ex eveniet. Repellendus ipsa nobis excepturi error dolorum nulla doloribus doloremque!</p>
              <p>Tenetur quaerat alias, et blanditiis ea dicta voluptate vitae sed nulla modi earum labore ab nesciunt illo eum rerum, omnis at nisi rem, ex sapiente cum! Perferendis eius fuga aperiam?</p>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="background-color: rgb(63, 63, 63)">
          <div id="trigger1"></div>
          <div id="staticLength1" class="col-sm-6 block-left">
              <div id="pin1" class="block-left-inner">Header</div>
          </div>
          <div id="scrollLength1" class="col-sm-6 block-right" style="background-color:white">
            <div class="row">
              <div class="col-sm-12">
                <h3>University of Western Australia</h3>
                <h5 class="subHeader">Bachelor of Science, Double Major: Computer Science, Data Science</h5>
                <h5>May 2019 - May 2019 Perth, WA</h5>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolorum, dignissimos? Accusamus corporis, quaerat voluptate mollitia cum tenetur modi dolore ea libero ipsa nesciunt reprehenderit pariatur deleniti illum facere ratione sapiente!</p>
                <p>Omnis iure, debitis, ea fuga quis dolores exercitationem facere est esse cupiditate id ipsa at repellat, distinctio provident eius nesciunt consequuntur accusantium officiis? Recusandae autem officia itaque ab, eaque commodi?</p>
                <p>Itaque, obcaecati error qui laboriosam nam, molestias ducimus nostrum fugiat nemo blanditiis, cum quibusdam? Omnis ipsa voluptatibus temporibus vitae? Officiis, quas. Quidem voluptatum, nisi ullam adipisci consequatur ab alias praesentium!</p>
                <p>Consequatur accusantium aspernatur labore? Ex nisi facilis, adipisci omnis, sed totam tempora expedita iusto, temporibus vero iure consequatur ut asperiores! Ex perferendis ea vel aperiam, optio nisi consectetur magni culpa.</p>
                <p>Quasi et sequi nobis voluptatibus architecto perspiciatis, obcaecati non sapiente adipisci explicabo, dolore odio voluptate alias. Animi nisi voluptates maxime blanditiis? Commodi, perspiciatis quisquam! Odit in distinctio illum magnam aliquid!</p>
                <p>Dolor saepe distinctio libero possimus ab expedita iusto ut debitis repellat, a architecto quia ipsa, unde rem corporis ad sunt eum error? Omnis nesciunt mollitia quae placeat molestias error quasi.</p>
                <p>Tempora quod id nihil unde doloribus quaerat atque facere ab, itaque nostrum reiciendis, sint aperiam. Facilis possimus, perspiciatis fugit, ducimus iure eos nemo nulla recusandae quibusdam esse officia explicabo ipsum.</p>
                <p>Dolorum facilis alias perspiciatis velit nisi. Hic est dignissimos ullam praesentium quis? Possimus illo dolorum rerum, libero assumenda architecto quia! Delectus nisi dolor officia et veritatis! Consectetur voluptatibus impedit dolor.</p>
                <p>Atque laboriosam blanditiis impedit incidunt quas, nesciunt quibusdam magnam iusto esse quam cupiditate asperiores! Quidem, ab! Eum est velit harum nesciunt magni, nobis molestiae voluptatibus et ipsum beatae quia ex.</p>
                <p>Esse saepe iste incidunt voluptatem voluptatibus enim iure in excepturi perferendis facere aperiam quo eligendi officiis quod sit, culpa ex eveniet. Repellendus ipsa nobis excepturi error dolorum nulla doloribus doloremque!</p>
                <p>Dolorum facilis alias perspiciatis velit nisi. Hic est dignissimos ullam praesentium quis? Possimus illo dolorum rerum, libero assumenda architecto quia! Delectus nisi dolor officia et veritatis! Consectetur voluptatibus impedit dolor.</p>
                <p>Atque laboriosam blanditiis impedit incidunt quas, nesciunt quibusdam magnam iusto esse quam cupiditate asperiores! Quidem, ab! Eum est velit harum nesciunt magni, nobis molestiae voluptatibus et ipsum beatae quia ex.</p>
                <p>Esse saepe iste incidunt voluptatem voluptatibus enim iure in excepturi perferendis facere aperiam quo eligendi officiis quod sit, culpa ex eveniet. Repellendus ipsa nobis excepturi error dolorum nulla doloribus doloremque!</p>
                <p>Tenetur quaerat alias, et blanditiis ea dicta voluptate vitae sed nulla modi earum labore ab nesciunt illo eum rerum, omnis at nisi rem, ex sapiente cum! Perferendis eius fuga aperiam?</p>
                
              </div>
            </div>
          </div>
        </div>

    </div>
  </body>
</html>

<!-- Section Header Scrolling -->
<script>
    $(function () { // wait for document ready
      for(i=0;i<2;i++){ //loop through each scene/block
        var controller = new ScrollMagic.Controller();
        var staticLength = $(`#staticLength${i}`).outerHeight()  //bottom line of the header block/left column
        var scrollLength = $(`#scrollLength${i}`).outerHeight()  //bottom line of the information block/right column
        var scrollDuration = scrollLength-staticLength      //distance between the two, scroll space
        
        //if screen is small, the header/column fills the width of the page therefore does not require scrolling
        //if scrollDuration is negative, that means the header is longer than the information passage thus also does not require scrolling
        if ($(window).innerWidth() < $(window).innerHeight()  ||  scrollDuration<0) {
          controller.enabled(false);
        } else {
          controller.enabled(true);
        }
        
        //build scene
        var scene = new ScrollMagic.Scene({offset: staticLength, triggerHook: "onEnter", triggerElement: `#trigger${i}`, duration: scrollDuration})
                .setPin(`#pin${i}`)
                .on('start', function () {
                  console.log(`Height: ${window.innerHeight}, Width: ${window.innerWidth}`)
                })
                .on('end', function () {
                  console.log("passed trigger");
                })
                // .addIndicators({name: ` (duration: ${scrollDuration})`}) // add indicators (requires plugin)
                .addIndicators({name: "scroll"})
                .addTo(controller);
      
        //prevents multiple premature triggers during manual resizing
        $(window).resize(function() {
          if(this.resizeTO) clearTimeout(this.resizeTO);
          this.resizeTO = setTimeout(function() {
              $(this).trigger('resizeEnd');
          }, 500);
        });

        //refresh page on resize to reinit pins
        $(window).on("resizeEnd", function() {
          location.reload();
        });
      }
    });
</script>

<!-- SVG Animation -->
<script>
    function pathPrepare ($el) {
      var lineLength = $el[0].getTotalLength();
      $el.css("stroke-dasharray", lineLength);
      $el.css("stroke-dashoffset", lineLength);
    }

    var $word = $("path#word");
    var $dot = $("path#dot");

    // prepare SVG
    pathPrepare($word);
    pathPrepare($dot);

    // init controller
    var controller = new ScrollMagic.Controller();

    // build tween
    var tween = new TimelineMax()
      .add(TweenMax.to($word, 0.9, {strokeDashoffset: 0, ease:Linear.easeNone})) // draw word for 0.9
      .add(TweenMax.to($dot, 0.1, {strokeDashoffset: 0, ease:Linear.easeNone}))  // draw dot for 0.1
      .add(TweenMax.to("path", 1, {stroke: "#33629c", ease:Linear.easeNone}), 0);			// change color during the whole thing

    // build scene
    var scene = new ScrollMagic.Scene({triggerHook: "onLeave", triggerElement: "#svgTrigger", duration: 200, tweenChanges: true})
            .setTween(tween)
            .addIndicators("animation") // add indicators (requires plugin)
            .addTo(controller);
  </script>